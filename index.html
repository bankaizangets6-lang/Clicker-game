<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Ultimate Clicker - Owner Edition</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; text-align: center; background-color: #0f172a; color: #fff; padding: 20px; overflow-x: hidden; }
        
        /* PENGUMUMAN OWNER - Ukuran sudah dikecilkan */
        #owner-announcement {
            position: fixed; top: -100px; left: 0; width: 100%; padding: 12px;
            background: linear-gradient(90deg, #ff0080, #7928ca);
            color: white; font-size: 1.1rem; font-weight: bold; text-transform: uppercase;
            box-shadow: 0 5px 15px rgba(255, 0, 128, 0.4); z-index: 9999; 
            transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5); border-bottom: 2px solid #fff;
            letter-spacing: 1px;
        }
        #owner-announcement.show { top: 0; }

        /* ADMIN GUI (POJOK KANAN ATAS) */
        .admin-gui-trigger {
            position: fixed; top: 10px; right: 10px; z-index: 1000;
            background: #1e293b; border: 1px solid #ff0080; color: #ff0080;
            padding: 5px 12px; border-radius: 5px; cursor: pointer; font-weight: bold;
            font-size: 0.7rem; opacity: 0.7; transition: 0.3s;
        }
        .admin-gui-trigger:hover { opacity: 1; background: #ff0080; color: white; }

        #admin-panel {
            display: none; position: fixed; top: 50px; right: 10px; width: 200px;
            background: #000; border: 2px solid #ff0080; padding: 15px;
            border-radius: 12px; z-index: 1001; box-shadow: 0 0 20px rgba(0,0,0,0.8);
        }

        /* GAME LAYOUT */
        .game-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 950px; margin: auto; }
        .container { background: #1e293b; padding: 20px; border-radius: 20px; border: 1px solid #334155; }
        .stats-bar { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; background: #000; padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #3b82f6; }
        
        #btn-klik { padding: 40px; width: 100%; font-size: 28px; cursor: pointer; background: linear-gradient(45deg, #3b82f6, #06b6d4); color: white; border: none; border-radius: 15px; font-weight: bold; margin-bottom: 10px; box-shadow: 0 4px 0 #1d4ed8; }
        #btn-klik:active { transform: translateY(4px); box-shadow: none; }

        .section { margin-top: 15px; padding: 12px; border-radius: 10px; background: #334155; text-align: left; }
        .shop-item { background: #475569; padding: 8px; border-radius: 8px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; font-size: 0.9rem; }
        
        button { padding: 8px 12px; cursor: pointer; border: none; border-radius: 5px; font-weight: bold; }
        .btn-buy { background: #10b981; color: white; }
        .btn-buy:disabled { background: #64748b !important; cursor: not-allowed; }
        .btn-spin { background: #f59e0b; color: white; width: 100%; padding: 12px; font-size: 1.1rem; }

        input { width: 100%; padding: 8px; border-radius: 5px; border: none; margin-bottom: 8px; box-sizing: border-box; background: #1e293b; color: white; border: 1px solid #475569; }
        .diamond-txt { color: #22d3ee; }
        .coin-txt { color: #fbbf24; }
        .expired-txt { color: #ef4444; font-size: 0.8rem; font-weight: bold; }
    </style>
</head>
<body>

    <div id="owner-announcement">Pesan Owner!</div>

    <button class="admin-gui-trigger" onclick="toggleAdminPanel()">‚öôÔ∏è ADMIN</button>

    <div id="admin-panel">
        <h4 style="color:#ff0080; margin:0 0 10px 0;">Owner Tools</h4>
        <input type="text" id="admin-msg-input" placeholder="Teks pengumuman...">
        <button class="btn-buy" style="width:100%; background:#7928ca; font-size:0.8rem;" onclick="sendOwnerMessage()">KIRIM PESAN</button>
        <button onclick="toggleAdminPanel()" style="background:none; color:gray; font-size:0.6rem; margin-top:10px;">Tutup [X]</button>
    </div>

    <h1>üíé Ultimate Clicker Tycoon</h1>
    
    <div id="flash-event" class="expired-txt" style="background: #450a0a; padding: 10px; border-radius: 10px; margin-bottom: 10px;">
        ‚ö†Ô∏è KODE 'DGY' EXPIRED DALAM: <span id="timer-expired">19</span> DETIK!
    </div>

    <div class="stats-bar">
        <div class="stats-item">‚è±Ô∏è <span id="waktu">300</span>s</div>
        <div class="stats-item coin-txt">üí∞ Koin: <span id="koin">0</span></div>
        <div class="stats-item diamond-txt">üíé DM: <span id="dm">0</span></div>
        <div class="stats-item">üèÜ Skor: <span id="skor">0</span></div>
        <div class="stats-item" style="color:#ff00ea">üé∞ Spin: <span id="jumlah-spin">0</span></div>
    </div>

    <div class="game-grid">
        <div>
            <div class="container">
                <button id="btn-klik" onclick="tambahSkor()">KLIK!</button>
                <p id="multiplier-active" style="color:#10b981; font-weight:bold; font-size: 0.9rem;">Multiplier: 1x</p>
                
                <div class="section">
                    <strong>üéüÔ∏è REDEEM CODE</strong>
                    <input type="text" id="input-kode" placeholder="Masukkan kode...">
                    <button class="btn-buy" style="width:100%" onclick="redeem()">Klaim</button>
                </div>

                <div class="section" style="text-align:center;">
                    <strong>üé∞ LUCKY WHEEL</strong><br><br>
                    <button class="btn-spin" onclick="putarSpin()">PUTAR SPIN</button>
                    <p id="spin-result" style="margin-top:10px; font-weight:bold; color:#f59e0b; font-size:0.9rem; min-height: 20px;"></p>
                </div>
            </div>
        </div>

        <div>
            <div class="container" style="margin-bottom:20px;">
                <strong>üè™ SHOP KOIN</strong>
                <div class="shop-item"><span>3x (20 Koin)</span><button id="p3" class="btn-buy" onclick="beliPower(3, 20, 'p3')">Beli</button></div>
                <div class="shop-item"><span>10x (100 Koin)</span><button id="p10" class="btn-buy" onclick="beliPower(10, 100, 'p10')">Beli</button></div>
                <div class="shop-item"><span>100x (700 Koin)</span><button id="p100" class="btn-buy" onclick="beliPower(100, 700, 'p100')">Beli</button></div>
            </div>

            <div class="container">
                <strong class="diamond-txt">üíé DIAMOND SHOP</strong>
                <div class="shop-item"><span>1x Spin (2 DM)</span><button class="btn-buy" onclick="beliSpin(1, 2)">Beli</button></div>
                <div class="shop-item"><span>2x Spin (4 DM)</span><button class="btn-buy" onclick="beliSpin(2, 4)">Beli</button></div>
                <div class="shop-item"><span>4x Spin (10 DM)</span><button class="btn-buy" onclick="beliSpin(4, 10)">Beli</button></div>
            </div>
        </div>
    </div>

    <script>
        let skor = 0, koin = 0, dm = 0, spin = 0, multiplier = 1, sisaWaktu = 300, gameBerjalan = false;
        let expiredTime = 19, isDGYExpired = false;

        setInterval(() => {
            if(expiredTime > 0) {
                expiredTime--;
                document.getElementById('timer-expired').innerText = expiredTime;
            } else if (!isDGYExpired) {
                isDGYExpired = true;
                document.getElementById('flash-event').innerHTML = "‚ùå KODE 'DGY' EXPIRED!";
            }
        }, 1000);

        function updateDisplay() {
            document.getElementById('koin').innerText = koin;
            document.getElementById('skor').innerText = skor;
            document.getElementById('dm').innerText = dm;
            document.getElementById('jumlah-spin').innerText = spin;
        }

        function tambahSkor() {
            if (!gameBerjalan) { mulaiTimer(); gameBerjalan = true; }
            skor += multiplier; updateDisplay();
        }

        function mulaiTimer() {
            setInterval(() => { if(sisaWaktu > 0) { sisaWaktu--; document.getElementById('waktu').innerText = sisaWaktu; } }, 1000);
        }

        function toggleAdminPanel() {
            let p = document.getElementById('admin-panel');
            p.style.display = (p.style.display === 'block') ? 'none' : 'block';
        }

        function sendOwnerMessage() {
            let msg = document.getElementById('admin-msg-input').value;
            let bar = document.getElementById('owner-announcement');
            if(msg.trim() !== "") {
                bar.innerText = "üì£ " + msg;
                bar.classList.add('show');
                setTimeout(() => { bar.classList.remove('show'); }, 4000);
                document.getElementById('admin-msg-input').value = "";
                toggleAdminPanel();
            }
        }

        function redeem() {
            let kode = document.getElementById('input-kode').value;
            if (kode === "DGY" && !isDGYExpired) { koin += 300; dm += 199; alert("DGY Berhasil!"); }
            else if (kode === "78op") { koin += 50; }
            else if (kode === "67NBTC") { koin += 400; dm += 5; }
            else if (kode === "DEY") { dm += 5; }
            else if (kode === "Brosey") { dm += 10; }
            else if (kode === "Broty") { koin += 10; spin += 1; }
            document.getElementById('input-kode').value = "";
            updateDisplay();
        }

        function beliPower(p, h, id) {
            if (koin >= h) { koin -= h; multiplier = p; document.getElementById(id).innerText="OWNED"; document.getElementById(id).disabled=true; updateDisplay(); }
            else alert("Koin kurang!");
        }

        function beliSpin(j, h) {
            if (dm >= h) { dm -= h; spin += j; updateDisplay(); }
            else alert("DM kurang!");
        }

        function putarSpin() {
            if (spin > 0) {
                spin--;
                const h = [50, 200, 500, 1000, "JACKPOT 5 DM"];
                let res = h[Math.floor(Math.random()*h.length)];
                if (res === "JACKPOT 5 DM") dm += 5; else koin += res;
                document.getElementById('spin-result').innerText = "Hasil: " + res;
                updateDisplay();
            } else alert("Tiket habis!");
        }
    </script>
</body>
</html>
